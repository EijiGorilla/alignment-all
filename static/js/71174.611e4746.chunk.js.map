{"version":3,"file":"static/js/71174.611e4746.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/TileLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../request.js\";import t from\"../core/Error.js\";import{loadAll as s}from\"../core/loadAll.js\";import{MultiOriginJSONMixin as i}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as o}from\"../core/promiseUtils.js\";import{urlToObject as a,objectToQuery as l,makeAbsolute as n}from\"../core/urlUtils.js\";import{property as p}from\"../core/accessorSupport/decorators/property.js\";import{cast as c}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{reader as u}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as h}from\"../core/accessorSupport/decorators/writer.js\";import d from\"../geometry/SpatialReference.js\";import y from\"./Layer.js\";import{APIKeyMixin as f}from\"./mixins/APIKeyMixin.js\";import{ArcGISCachedService as v}from\"./mixins/ArcGISCachedService.js\";import{ArcGISMapService as g}from\"./mixins/ArcGISMapService.js\";import{ArcGISService as S}from\"./mixins/ArcGISService.js\";import{BlendLayer as _}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as j}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as b}from\"./mixins/OperationalLayer.js\";import{PortalLayer as T}from\"./mixins/PortalLayer.js\";import{RefreshableLayer as w}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as O}from\"./mixins/ScaleRangeLayer.js\";import{SublayersOwner as L}from\"./mixins/SublayersOwner.js\";import{parse as R,isHostedAgolService as U,isArcGISUrl as P}from\"./support/arcgisLayerUrl.js\";import{url as x}from\"./support/commonProperties.js\";import{createTileBitmap as A}from\"./support/imageBitmapUtils.js\";import I from\"./support/Sublayer.js\";import M from\"../symbols/support/ElevationInfo.js\";var W;const B=[\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Elevation/World_Hillshade\",\"Elevation/World_Hillshade_Dark\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Ocean_Basemap\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Boundaries_and_Places_Alternate\",\"Reference/World_Transportation\",\"World_Imagery\",\"World_Street_Map\",\"World_Topo_Map\"];let C=W=class extends(_(O(L(v(g(b(T(S(i(w(f(j(y))))))))))))){constructor(...e){super(...e),this.listMode=\"show\",this.elevationInfo=new M({mode:\"on-the-ground\"}),this.isReference=null,this.operationalLayerType=\"ArcGISTiledMapServiceLayer\",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type=\"tile\",this.url=null}normalizeCtorArgs(e,r){return\"string\"==typeof e?{url:e,...r}:e}load(e){const r=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Map Service\"]},e).catch(o).then((()=>this._fetchService(r)))),Promise.resolve(this)}get attributionDataUrl(){const e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,r){return(e=e||r.tileInfo?.spatialReference)&&d.fromJSON(e)}writeSublayers(e,r,t,s){if(!this.loaded||!e)return;const i=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),o=[],a={writeSublayerStructure:!1,...s};i.forEach((e=>{const r=e.write({},a);o.push(r)}));o.some((e=>Object.keys(e).length>1))&&(r.layers=o)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>a(e).path)):null}fetchTile(e,t,s,i={}){const{signal:o}=i,a=this.getTileUrl(e,t,s),l={responseType:\"image\",signal:o,query:{...this.refreshParameters}};return r(a,l).then((e=>e.data))}async fetchImageBitmapTile(e,t,s,i={}){const{signal:o}=i;if(this.fetchTile!==W.prototype.fetchTile){const r=await this.fetchTile(e,t,s,i);return A(r,e,t,s,o)}const a=this.getTileUrl(e,t,s),l={responseType:\"blob\",signal:o,query:{...this.refreshParameters}},{data:n}=await r(a,l);return A(n,e,t,s,o)}getTileUrl(e,r,t){const s=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,i=l({...this.parsedUrl?.query,blankTile:!s&&null,...this.customParameters,token:this.apiKey}),o=this.tileServers;return`${o&&o.length?o[r%o.length]:this.parsedUrl?.path}/tile/${e}/${r}/${t}${i?\"?\"+i:\"\"}`}loadAll(){return s(this,(e=>{e(this.allSublayers)}))}_fetchService(e){return new Promise(((s,i)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new t(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");return void s({data:this.sourceJSON})}if(!this.parsedUrl)throw new t(\"tile-layer:undefined-url\",\"layer's url is not defined\");const o=R(this.parsedUrl.path);if(null!=o&&\"ImageServer\"===o.serverType)throw new t(\"tile-layer:unsupported-url\",\"use ImageryTileLayer to open a tiled image service\");r(this.parsedUrl.path,{query:{f:\"json\",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e}).then(s,i)})).then((r=>{let t=this.url;if(r.ssl&&(t=this.url=t.replace(/^http:/i,\"https:\")),this.sourceJSON=r.data,this.read(r.data,{origin:\"service\",url:this.parsedUrl}),10.1===this.version&&!U(t))return this._fetchServerVersion(t,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,s){if(!P(e))return Promise.reject();const i=e.replace(/(.*\\/rest)\\/.*/i,\"$1\")+\"/info\";return r(i,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:s}).then((e=>{if(e.data?.currentVersion)return e.data.currentVersion;throw new t(\"tile-layer:version-not-available\",\"Server did not provide a version\")}))}_getMapName(e){const r=e.match(/^(?:https?:)?\\/\\/(server\\.arcgisonline\\.com|services\\.arcgisonline\\.com|ibasemaps-api\\.arcgis\\.com)\\/arcgis\\/rest\\/services\\/([^/]+(\\/[^/]+)*)\\/mapserver/i);return r?r[2]:void 0}_getDefaultAttribution(e){if(null==e)return null;let r;e=e.toLowerCase();for(let t=0,s=B.length;t<s;t++)if(r=B[t],r.toLowerCase().includes(e))return n(\"//static.arcgis.com/attribution/\"+r);return null}_getDefaultTileServers(e){if(null==e)return[];const r=-1!==e.search(/^(?:https?:)?\\/\\/server\\.arcgisonline\\.com/i),t=-1!==e.search(/^(?:https?:)?\\/\\/services\\.arcgisonline\\.com/i);return r||t?[e,e.replace(r?/server\\.arcgisonline/i:/services\\.arcgisonline/i,r?\"services.arcgisonline\":\"server.arcgisonline\")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[N]}};e([p({readOnly:!0})],C.prototype,\"attributionDataUrl\",null),e([p({type:[\"show\",\"hide\",\"hide-children\"]})],C.prototype,\"listMode\",void 0),e([p({json:{read:!0,write:!0}})],C.prototype,\"blendMode\",void 0),e([p()],C.prototype,\"elevationInfo\",void 0),e([p({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],C.prototype,\"isReference\",void 0),e([p({readOnly:!0,type:[\"ArcGISTiledMapServiceLayer\"]})],C.prototype,\"operationalLayerType\",void 0),e([p({type:Boolean})],C.prototype,\"resampling\",void 0),e([p()],C.prototype,\"sourceJSON\",void 0),e([p({type:d})],C.prototype,\"spatialReference\",void 0),e([u(\"spatialReference\",[\"spatialReference\",\"tileInfo\"])],C.prototype,\"readSpatialReference\",null),e([p({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],C.prototype,\"path\",void 0),e([p({readOnly:!0})],C.prototype,\"sublayers\",void 0),e([h(\"sublayers\",{layers:{type:[I]}})],C.prototype,\"writeSublayers\",null),e([p({json:{read:!1,write:!1}})],C.prototype,\"popupEnabled\",void 0),e([p()],C.prototype,\"tileServers\",null),e([c(\"tileServers\")],C.prototype,\"castTileServers\",null),e([p({readOnly:!0,json:{read:!1}})],C.prototype,\"type\",void 0),e([p(x)],C.prototype,\"url\",void 0),C=W=e([m(\"esri.layers.TileLayer\")],C);const N=Symbol(\"default-fetch-tile\");C.prototype.fetchTile[N]=!0;const k=C;export{k as default};\n"],"names":["W","B","C","_","O","L","v","g","b","T","S","i","w","f","j","y","constructor","super","arguments","this","listMode","elevationInfo","M","mode","isReference","operationalLayerType","resampling","sourceJSON","spatialReference","path","sublayers","type","url","normalizeCtorArgs","e","r","_objectSpread","load","signal","addResolvingPromise","loadFromPortal","supportedTypes","catch","o","then","_fetchService","Promise","resolve","attributionDataUrl","_this$parsedUrl","parsedUrl","toLowerCase","_getDefaultAttribution","_getMapName","readSpatialReference","_r$tileInfo","tileInfo","d","fromJSON","writeSublayers","t","s","loaded","slice","reverse","flatten","_ref","toArray","a","writeSublayerStructure","forEach","write","push","some","Object","keys","length","layers","tileServers","_this$parsedUrl2","_getDefaultTileServers","castTileServers","Array","isArray","map","fetchTile","undefined","getTileUrl","l","responseType","query","refreshParameters","data","fetchImageBitmapTile","prototype","A","n","_this$parsedUrl3","_this$parsedUrl4","capabilities","operations","supportsTileMap","supportsBlankTile","blankTile","customParameters","token","apiKey","concat","loadAll","allSublayers","bandCount","pixelSizeX","R","serverType","ssl","replace","read","origin","version","U","_fetchServerVersion","currentVersion","P","reject","_e$data","match","includes","search","hasOverriddenFetchTile","N","p","readOnly","json","Boolean","enabled","overridePolicy","u","String","origins","h","I","c","x","m","Symbol","k"],"sourceRoot":""}